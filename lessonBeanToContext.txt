ğŸ¯ Bean Nedir?

Bean, Spring IoC (Inversion of Control) container tarafÄ±ndan yÃ¶netilen bir Java nesnesidir. Spring uygulamasÄ±nÄ±n temel yapÄ± taÅŸÄ±dÄ±r.
java

// Basit bir Bean Ã¶rneÄŸi
@Component
public class UserService {
    // Bean logic here
}

ğŸ”„ Bean'den Context'e Yolculuk
1. Bean TanÄ±mlama YÃ¶ntemleri
A. Annotation-based Configuration

// 1. @Component - Genel amaÃ§lÄ±
@Component
public class UserService {
    public String getUser() {
        return "John Doe";
    }
}

// 2. @Service - Business logic katmanÄ±
@Service
public class OrderService {
    public void createOrder() {
        // business logic
    }
}

// 3. @Repository - Data access katmanÄ±
@Repository
public class UserRepository {
    public User findById(Long id) {
        // data access logic
    }
}

// 4. @Controller - Web katmanÄ±
@Controller
public class UserController {
    @GetMapping("/users")
    public String getUsers() {
        return "users";
    }
}

// 5. @Configuration - Bean tanÄ±mlama sÄ±nÄ±fÄ±
@Configuration
public class AppConfig {
    
    @Bean
    public DataSource dataSource() {
        return new HikariDataSource();
    }
    
    @Bean
    public ObjectMapper objectMapper() {
        return new ObjectMapper();
    }
}

ğŸ—ï¸ Bean YÃ¼kleme SÃ¼reci (Bean â†’ Context)
AdÄ±m 1: Component Tarama (Component Scanning)

@SpringBootApplication  // Bu annotation @ComponentScan'Ä± iÃ§erir
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}

Ã‡alÄ±ÅŸma MantÄ±ÄŸÄ±:

    @ComponentScan default olarak ana sÄ±nÄ±fÄ±n bulunduÄŸu package ve alt package'larÄ± tarar

    @Component, @Service, @Repository, @Controller annotasyonlu sÄ±nÄ±flarÄ± bulur

    Her bulduÄŸu sÄ±nÄ±f iÃ§in bir Bean tanÄ±mÄ± oluÅŸturur

Dependency Injection Ã‡eÅŸitleri
1. Constructor Injection (Ã–nerilen)
@Service
public class OrderService {
    private final UserService userService;
    private final ProductService productService;
    
    // Constructor Injection
    @Autowired
    public OrderService(UserService userService, ProductService productService) {
        this.userService = userService;
        this.productService = productService;
    }
}

2. Field Injection
@Service
public class OrderService {
    @Autowired
    private UserService userService;
    
    @Autowired
    private ProductService productService;
}

3. Setter Injection
@Service
public class OrderService {
    private UserService userService;
    private ProductService productService;
    
    @Autowired
    public void setUserService(UserService userService) {
        this.userService = userService;
    }
    
    @Autowired
    public void setProductService(ProductService productService) {
        this.productService = productService;
    }
}
ğŸ“Š Bean Scope'larÄ± (YaÅŸam DÃ¶ngÃ¼sÃ¼)
@Component
@Scope("singleton")  // Default - Uygulama boyunca 1 instance
public class SingletonBean { }

@Component
@Scope("prototype")  // Her istediÄŸinde yeni instance
public class PrototypeBean { }

@Component
@Scope("request")    // Her HTTP request iÃ§in yeni instance
public class RequestScopedBean { }

@Component
@Scope("session")    // Her HTTP session iÃ§in yeni instance  
public class SessionScopedBean { }

ğŸ”„ Bean YaÅŸam DÃ¶ngÃ¼sÃ¼ (Lifecycle)
@Component
public class LifecycleBean implements InitializingBean, DisposableBean {
    
    // 1. Constructor
    public LifecycleBean() {
        System.out.println("1. Constructor Ã§alÄ±ÅŸtÄ±");
    }
    
    // 2. @PostConstruct - Dependency Injection sonrasÄ±
    @PostConstruct
    public void init() {
        System.out.println("3. @PostConstruct Ã§alÄ±ÅŸtÄ±");
    }
    
    // 3. InitializingBean interface
    @Override
    public void afterPropertiesSet() {
        System.out.println("4. afterPropertiesSet Ã§alÄ±ÅŸtÄ±");
    }
    
    // 4. @PreDestroy - Context kapanmadan Ã¶nce
    @PreDestroy
    public void cleanup() {
        System.out.println("5. @PreDestroy Ã§alÄ±ÅŸtÄ±");
    }
    
    // 5. DisposableBean interface
    @Override
    public void destroy() {
        System.out.println("6. destroy Ã§alÄ±ÅŸtÄ±");
    }
}